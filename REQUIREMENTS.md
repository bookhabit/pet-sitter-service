# 펫시터 애플리케이션 요구사항 정의서

## 1. 프로젝트 개요

### 1.1 애플리케이션 소개
- **펫시터**: 반려견을 돌볼 시간이 없는 반려견 주인과 반려견을 돌보려고 하는 돌봄 도우미를 연결해주는 애플리케이션

### 1.2 개발 Flow
1. 요구사항 및 도메인 모델 정의
2. OpenAPI로 명세서 작성
3. 프론트엔드와 백엔드 각각 명세서를 참고하여 작업
4. 애플리케이션 통합 및 연동

## 2. 초기 요구사항

### 2.1 핵심 기능
- **회원가입**: 반려견 주인과 개를 산책시킬 반려견 돌봄 도우미
- **구인 공고 등록**: 반려견 주인이 구인 공고를 올림
- **지원 기능**: 개를 산책시킬 사람이 공고를 보고 지원

## 3. 도메인 모델링

### 3.1 모델 정의

#### 3.1.1 모델 식별
- **User (사용자)**: 반려동물 주인과 돌봄 도우미가 애플리케이션을 사용하므로 필요
- **Job (구인공고)**: 반려동물 주인이 구인공고를 등록하고, 돌봄 도우미가 구인 공고를 보고 지원하므로 필요
- **Dog (반려견)**: 구인공고는 개를 다루는 내용이므로 필요
- **JobApplication (구인공고 지원)**: 구인 공고 지원 모델 필요

### 3.2 모델 속성 정의

#### 3.2.1 User (사용자)
- `id`: 사용자 고유 식별자
- `emailAddress`: 이메일 주소
- `password`: 비밀번호
- `fullName`: 전체 이름
- `roles`: 역할 (반려동물 주인, 돌봄 도우미, 관리자)

#### 3.2.2 Job (구인공고)
- `id`: 구인공고 고유 식별자
- `startTime`: 시작 시간
- `endTime`: 종료 시간
- `activity`: 활동 내용
- `dog`: 반려견 정보 (Dog 모델 참조)

#### 3.2.3 Dog (반려견)
- `id`: 반려견 고유 식별자
- `name`: 이름
- `age`: 나이
- `breed`: 품종
- `size`: 크기

#### 3.2.4 JobApplication (구인공고 지원)
- `id`: 지원 고유 식별자
- `status`: 지원 상태
- `user_id`: 지원자 ID
- `job_id`: 구인공고 ID

## 4. 사용자 시나리오

### 4.1 시나리오 형식
**'나는 <역할>로서 <기능>을 할 수 있고, 그 결과 <보상>을 받는다'**

### 4.2 공통 사용자 시나리오

#### 4.2.1 회원가입 및 로그인
- 나는 역할을 선택해서 새 사용자를 등록할 수 있고, 그 결과 로그인할 수 있다
- 나는 로그인할 수 있고, 그 결과 마켓플레이스를 이용할 수 있다

#### 4.2.2 계정 관리
- 나는 내 계정 상세 정보를 수정할 수 있다
- 나는 내 계정을 삭제할 수 있다

### 4.3 반려동물 주인 사용자 시나리오

#### 4.3.1 구인공고 관리
- 나는 펫시터에 내 반려견에 대한 설명을 포함하는 구인공고를 올릴 수 있고, 그 결과 반려동물 돌봄 도우미가 구인공고를 보고 지원할 수 있다
- 나는 내가 등록한 구인공고 목록을 확인할 수 있다
- 구인공고를 등록하면 상세 내용을 조회하고 수정할 수 있다
- 구인공고를 등록하면 등록한 구인공고를 삭제할 수 있다

#### 4.3.2 지원자 관리
- 구인공고를 등록하면 구인공고에 지원한 돌봄 도우미를 확인할 수 있다
- 적절한 지원자가 있다면 승인할 수 있다

### 4.4 돌봄 도우미 사용자 시나리오

#### 4.4.1 구인공고 조회 및 지원
- 나는 돌봄이 필요한 반려동물 목록을 조회할 수 있다
- 마음에 드는 구인 공고가 있으면 지원할 수 있다

### 4.5 관리자 사용자 시나리오

#### 4.5.1 관리 기능
- 나는 로그인을 할 수 있고, 그 결과 어드민 기능을 사용할 수 있다
- 나는 다른 사용자의 계정 상세 정보를 수정할 수 있다
- 나는 다른 사용자가 등록한 구인 공고를 수정할 수 있다

## 5. 사용자 스토리 매핑

### 5.1 공통 기능 (모델별 행위)

#### 5.1.1 User 모델
- **Register**: 나는 역할을 선택해서 새 사용자를 등록할 수 있다
- **Login**: 나는 내 계정으로 로그인을 할 수 있다
- **View**: 나는 내 계정 상세 정보를 조회할 수 있다
- **Modify**: 나는 내 계정 상세 정보를 수정할 수 있다
- **Delete**: 나는 내 계정을 삭제할 수 있다

### 5.2 반려동물 주인 기능

#### 5.2.1 Job 모델 관련
- **Create**: 나는 펫시터에 내 반려견에 대한 설명을 포함하는 구인 공고를 올릴 수 있다
  - 관계: `job ← dog` (구인공고에 반려견 정보 포함)
- **List**: 나는 내가 등록한 구인공고 목록을 확인할 수 있다
  - 관계: `user → job` (사용자가 생성한 구인공고)
- **View**: 구인 공고를 등록하면 상세 내용을 조회할 수 있다
- **Modify**: 구인 공고를 등록하면 상세 내용을 수정할 수 있다
- **Delete**: 구인 공고를 등록하면 등록한 구인공고를 삭제할 수 있다

#### 5.2.2 JobApplication 모델 관련
- **List**: 구인 공고를 등록하면 구인 공고에 지원한 돌봄 도우미를 확인할 수 있다
  - 관계: `user → job` (구인공고에 지원)
- **Approve**: 적절한 지원자가 있다면 승인할 수 있다

### 5.3 돌봄 도우미 기능

#### 5.3.1 Job 모델 관련
- **List**: 나는 돌봄이 필요한 반려 동물(구인 공고) 목록을 조회할 수 있다

#### 5.3.2 JobApplication 모델 관련
- **Create**: 마음에 드는 구인 공고가 있으면 지원할 수 있다

### 5.4 관리자 기능

#### 5.4.1 User 모델 관련
- **Modify**: 사용자의 프로파일을 수정할 수 있다
- **Delete**: 사용자를 삭제할 수 있다

#### 5.4.2 Job 모델 관련
- **Modify**: 다른 사용자가 등록한 구인 공고를 편집할 수 있다

## 6. 모델 관계도

```
User (사용자)
  ├─ creates → Job (구인공고)
  │              └─ contains → Dog (반려견)
  └─ applies → JobApplication (구인공고 지원)
                  └─ references → Job (구인공고)
```

## 7. 역할별 권한 요약

| 역할 | 주요 기능 |
|------|----------|
| **반려동물 주인** | 구인공고 등록/수정/삭제, 지원자 확인 및 승인, 계정 관리 |
| **돌봄 도우미** | 구인공고 조회, 지원, 계정 관리 |
| **관리자** | 모든 사용자 및 구인공고 관리, 계정 관리 |

## 8. API 엔드포인트 요약

### 8.1 사용자 관련
- `POST /users` - 회원가입
- `POST /auth/login` - 로그인
- `GET /users/{id}` - 사용자 조회
- `PATCH /users/{id}` - 사용자 수정
- `DELETE /users/{id}` - 사용자 삭제

### 8.2 구인공고 관련
- `POST /jobs` - 구인공고 등록
- `GET /jobs` - 구인공고 목록 조회
- `GET /jobs/{id}` - 구인공고 상세 조회
- `PATCH /jobs/{id}` - 구인공고 수정
- `DELETE /jobs/{id}` - 구인공고 삭제
- `GET /users/{id}/jobs` - 특정 사용자의 구인공고 목록

### 8.3 지원 관련
- `POST /jobs/{id}/job-applications` - 구인공고 지원
- `GET /jobs/{id}/job-applications` - 구인공고별 지원 목록
- `PATCH /job-applications/{id}` - 지원 상태 수정 (승인/거절)

---

**문서 버전**: 1.0  
**최종 수정일**: 2026-01-20
